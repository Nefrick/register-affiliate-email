{
  "name": "Customer.io",
  "description": "Customer.io Customer Engagement Platform",
  "fields": [
    {
      "name": "tracking_site_id",
      "label": "Tracking Site ID",
      "type": "text",
      "required": true,
      "placeholder": "Enter tracking site ID",
      "help": "https://fly.customer.io/settings/api_credentials?keyType=tracking"
    },
    {
      "name": "tracking_api_key",
      "label": "Tracking API Key",
      "type": "password",
      "required": true,
      "placeholder": "Enter tracking API key",
      "help": "https://fly.customer.io/settings/api_credentials?keyType=tracking"
    },
    {
      "name": "api_key",
      "label": "API Key",
      "type": "password",
      "required": false,
      "placeholder": "Enter API key (optional)",
      "help": "https://fly.customer.io/settings/api_credentials?keyType=app"
    }
  ],
  "config": {
    "service_type": "customerio",
    "endpoint": "https://track.customer.io/api/v1/customers/{{email}}",
    "method": "PUT",
    "headers": {
      "Authorization": "Basic {{base64_credentials}}",
      "Content-Type": "application/json"
    },
    "body": {
      "email": "{{email}}",
      "tracking_api_key": "{{tracking_api_key}}",
      "tracking_site_id": "{{tracking_site_id}}",
      "api_key": "{{api_key}}",
      "segment_id": "{{segment_id}}"
    }
  }
}
